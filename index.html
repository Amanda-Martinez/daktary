<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/reset.css">
    <link rel="stylesheet" href="/daktary.css">
    <link rel="stylesheet" href="/layout-repositories.css">
    <link rel="stylesheet" href="/layout-viewer.css">
    <script src="/config.js"></script>
    <script src="/lib/dk-githubUrl.js"></script>
    <script src="/lib/dk-router.js"></script>
    <script src="/routes.js"></script>
    <script src="/layout-repositories.js"></script>
    <script src="/layout-viewer.js"></script>
    <script src="/component-search.js"></script>
    <script src="/component-repositories.js"></script>
    <script src="/component-breadcrumb.js"></script>
    <script src="/component-ressources.js"></script>
    <script src="/component-contribution.js"></script>
    <script>
      window.onhashchange = () => window.location.reload(true)
    </script>
    <script>
      router.route(':owner/:repo/blob/:branch/:path(.*)', function () {
        this.currentRoute = 'blob'
      })
      router.route(':owner/:repo/tree/:branch/:path(.*)?', function () {
        this.currentRoute = 'tree'
      })
      router.route(':owner/:repo', function () {
        this.currentRoute = 'repo'
      })
    </script>
    <script>
      const ghUrl = window.location.toString().split('#')[1] ||
        'multibao/contributions/tree/master/pages'
      router.go(ghUrl)

      if (router.isNoRoute()) {
        window.location = './404.html'
      }
      window.onload = () => {
        if (router.currentRoute === 'tree') {
          injectLayoutRepos()
        }
        if (router.currentRoute === 'blob') {
          injectLayoutViewer()
        }
      }
    </script>
    <title>Multibao - apprendre des autres cultures.</title>
  </head>
  <body>
    <div id="container" class="container">
    </div>
  </body>
</html>
